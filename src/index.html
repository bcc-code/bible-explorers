<!doctype html>
<html class="font-sans text-white">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <meta name="color-scheme" content="only light" />
        <title>Bible Kids - Explorers</title>

        <link href="/favicon.ico" rel="icon" media="(prefers-color-scheme: light)" />
        <link href="/favicon-dark.ico" rel="icon" media="(prefers-color-scheme: dark)" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet" />

        <link rel="stylesheet" href="./scss/style.scss" />
    </head>

    <body class="group/body">
        <div id="app" class="group/app fixed inset-0 overflow-hidden">
            <header id="header" class="absolute left-0 top-0 hidden w-full">
                <div class="flex w-full justify-between p-8">
                    <a href="javascript:void(0)" id="home-button" class="z-50">
                        <img src="./textures/bible-kids-explorers.svg" alt="" class="h-16" />
                    </a>
                    <div class="group/progress relative z-10 hidden px-7 pt-7 group-data-[view='chapter']/app:block" id="progress-bar"></div>
                    <div class="z-10 flex items-center gap-4">
                        <button id="login-button" class="button-login disabled:hidden group-data-[view='chapter']/app:hidden" disabled="true">
                            <p aria-label="Logged in"></p>
                            <svg class="h-4 w-4"><use href="#right-to-bracket-solid" fill="currentColor"></use></svg>
                        </button>
                        <button id="logout-button" class="button-login disabled:hidden group-data-[view='chapter']/app:hidden" disabled="true">
                            <div class="leading-tight">
                                <p aria-label="User"></p>
                                <span aria-label="Role" class="text-bke-orange"></span>
                            </div>
                            <svg class="h-4 w-4"><use href="#right-from-bracket-solid" fill="currentColor"></use></svg>
                        </button>
                        <button id="music-toggle" class="button-round" title="background music switch">
                            <svg class="mr-0.5 h-4 w-4 group-[.is-playing]:hidden"><use href="#music-solid" fill="currentColor"></use></svg>
                            <svg class="mr-0.5 hidden h-4 w-4 group-[.is-playing]:block"><use href="#music-slash-solid" fill="currentColor"></use></svg>
                        </button>
                        <button id="open-menu" class="button-round" title="open menu">
                            <svg class="h-4 w-4"><use href="#bars-solid" fill="currentColor"></use></svg>
                        </button>
                        <button id="close-menu" class="button-round hidden" title="close menu">
                            <svg class="h-4 w-4"><use href="#xmark-large-solid" fill="currentColor"></use></svg>
                        </button>
                    </div>
                </div>
            </header>

            <div id="loading_screen" class="fixed inset-0 z-50 grid place-content-center bg-gradient-to-br from-bke-darkpurple to-bke-purple text-center">
                <canvas id="loading_logo" width="320" height="320"></canvas>
                <div id="loading_text" class="bottom-8 left-8 text-2xl">Loading...</div>
            </div>

            <main id="app-content" class="relative h-full overflow-y-auto">
                <div id="app-age_category" class="hidden group-data-[view='age-category']/app:block">
                    <div class="fixed inset-0 bg-control-room bg-cover bg-center">
                        <div class="h-full w-full bg-bke-darkpurple/75"></div>
                    </div>
                    <div class="fixed inset-0 grid place-content-center text-center">
                        <h3 class="max-w-screen-lg text-5xl font-semibold leading-snug text-bke-orange drop-shadow-lg">Join time travels and explore the book that can answer every question</h3>
                        <div class="mt-16">
                            <p class="text-xl opacity-60">Choose age group:</p>
                            <ul class="mt-4 grid gap-4"></ul>
                        </div>
                    </div>
                </div>
                <div id="chapter-select" class="hidden group-data-[view='lobby']/app:block">
                    <div class="fixed inset-0 bg-control-room bg-cover bg-center">
                        <div class="h-full w-full bg-bke-darkpurple/75"></div>
                    </div>
                    <div class="relative mx-auto flex max-w-[1980px] gap-8 px-8 py-48">
                        <div id="chapters-list" class="h-[70vh] w-1/2">
                            <ul class="flex h-full flex-col overflow-y-auto px-4"></ul>
                        </div>
                        <div id="chapters-description" class="h-[70vh] w-1/2"></div>
                    </div>
                    <div class="fixed bottom-8 right-8 flex gap-4">
                        <button class="button-prev" id="back-to-age-category">
                            <svg class="h-4 w-4"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                        </button>
                        <button class="button-next focused" id="start-chapter">
                            <svg class="h-4 w-4"><use href="#arrow-right-long-solid" fill="currentColor"></use></svg>
                        </button>
                    </div>
                </div>
                <div id="chapter-wrapper" class="isolate hidden group-data-[view='chapter']/app:block group-data-[view='game']/app:block">
                    <div class="fixed inset-0 -z-10 bg-chapter-room bg-cover bg-center">
                        <div class="h-full w-full backdrop-brightness-50"></div>
                    </div>
                    <div class="mx-auto mt-48 flex max-w-[1920px] items-stretch gap-12 px-8 group-data-[view='game']/app:hidden">
                        <div id="big-screen" class="group relative isolate aspect-[16/9] w-3/4 bg-bke-darkpurple" data-view="video">
                            <div class="absolute bottom-full left-1/2 -z-10 h-48 w-32 -translate-x-1/2 bg-bke-darkpurple"></div>
                            <div class="bg-big-screen-frame absolute -inset-4 -z-10 bg-[length:100%_100%] bg-no-repeat"></div>
                            <div class="*:hidden *:w-full *:h-full" id="videos-container"></div>
                        </div>
                        <div id="small-screen" class="group relative isolate max-h-[767px] w-1/4 bg-bke-darkpurple" data-view="map">
                            <div class="absolute bottom-full left-1/2 -z-10 h-48 w-28 -translate-x-1/2 bg-bke-darkpurple"></div>
                            <div class="bg-small-screen-frame absolute -inset-4 -z-10 bg-[length:100%_100%] bg-no-repeat"></div>
                            <div class="bg-map-texture absolute inset-0 hidden bg-[length:100%_100%] bg-no-repeat group-data-[view='map']:block"></div>
                            <div class="bg-map-texture absolute inset-0 hidden bg-[length:100%_100%] bg-no-repeat group-data-[view='lever']:block"></div>
                        </div>
                    </div>
                    <div id="closed-caption" class="fixed bottom-20 w-full px-8 pr-48 group-data-[view='game']/app:hidden"></div>
                    <div id="chapter-navigation" class="fixed bottom-8 right-8 z-30 flex gap-4">
                        <button class="button-prev" aria-label="prev page">
                            <svg class="h-4 w-4"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                        </button>
                        <button class="button-next focused" aria-label="next page">
                            <svg class="h-4 w-4"><use href="#arrow-right-long-solid" fill="currentColor"></use></svg>
                        </button>
                    </div>
                    <div id="games-wrapper" class="fixed inset-0 hidden group-data-[view='game']/app:block"></div>
                </div>
            </main>

            <aside id="main-menu" class="hidden group-data-[view='main-menu']/app:block">
                <div class="fixed inset-0 bg-gradient-to-br from-bke-darkpurple to-bke-purple"></div>
                <div class="absolute inset-0 grid place-content-center">
                    <ul class="grid gap-8 text-center">
                        <li>
                            <a href="javascript:void(0)" id="open-settings" class="text-3xl transition hover:text-bke-orange">Settings</a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" id="open-faq" class="text-3xl transition hover:text-bke-orange">FAQ</a>
                        </li>
                        <li>
                            <a href="#" target="_blank" id="guide-link" class="text-3xl transition hover:text-bke-orange">How to</a>
                        </li>
                    </ul>
                </div>
                <div id="copyright" class="absolute bottom-8 right-8 text-sm"></div>
            </aside>

            <aside id="settings" class="hidden group-data-[view='settings']/app:block">
                <div class="fixed inset-0 bg-gradient-to-br from-bke-darkpurple to-bke-purple"></div>
                <div class="absolute inset-0 grid place-content-center">
                    <button id="back-from-settings" class="button-round" title="back to main menu">
                        <svg class="h-4 w-4"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                    </button>
                    <div class="grid gap-12">
                        <section class="group/language relative" id="app-language">
                            <h5 class="mb-2 text-xl">Language:</h5>
                            <button aria-label="current language" class="min-w-[10em] rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple">English</button>
                            <ul class="absolute top-full z-10 mt-2 hidden max-h-96 w-full overflow-y-auto rounded-md bg-white text-bke-darkpurple group-[.is-open]/language:block"></ul>
                        </section>
                        <section id="app-video-quality" class="group/video-quality relative">
                            <h5 class="mb-2 text-xl">Video quality:</h5>
                            <div class="flex gap-2">
                                <button data-id="low" class="rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple group-data-[quality='low']/video-quality:bg-bke-orange group-data-[quality='low']/video-quality:text-bke-purple"></button>
                                <button data-id="medium" class="rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple group-data-[quality='medium']/video-quality:bg-bke-orange group-data-[quality='medium']/video-quality:text-bke-purple"></button>
                                <button data-id="high" class="rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple group-data-[quality='high']/video-quality:bg-bke-orange group-data-[quality='high']/video-quality:text-bke-purple"></button>
                            </div>
                        </section>
                        <section id="SFX-setting" class="flex items-center gap-2">
                            <h5 class="text-xl">Sound effects:</h5>
                            <div class="flex items-center">
                                <input type="checkbox" id="sound-checkbox" class="sr-only" />
                                <label for="sound-checkbox" class="cursor-pointer rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple"></label>
                            </div>
                        </section>
                        <section id="fullscreen-setting" class="flex items-center gap-2">
                            <h5 class="text-xl">Full screen:</h5>
                            <div class="flex items-center">
                                <input type="checkbox" id="fullscreen-checkbox" class="sr-only" />
                                <label for="fullscreen-checkbox" class="cursor-pointer rounded-md bg-bke-purple px-3 py-2 text-xl font-medium uppercase tracking-wider hover:bg-bke-orange hover:text-bke-purple"></label>
                            </div>
                        </section>
                        <section id="bg-music-setting">
                            <h5 class="mb-2 text-xl">
                                <div class="inline-block">Background music:</div>
                                <span id="rangeValue" class="text-bke-orange">50</span>
                            </h5>
                            <div class="range">
                                <input type="range" min="0" max="100" value="50" id="musicRange" class="w-full" />
                            </div>
                        </section>
                    </div>
                </div>
            </aside>

            <aside id="faq" class="hidden group-data-[view='faq']/app:block">
                <div class="fixed inset-0 bg-gradient-to-br from-bke-darkpurple to-bke-purple"></div>
                <div class="absolute inset-0 grid place-content-center">
                    <button id="back-from-faq" class="button-round" title="back to main menu">
                        <svg class="h-4 w-4"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                    </button>
                    <div class="h-full w-full overflow-y-auto py-20">
                        <div id="faq-content" class="prose-a:text-bke-accent hover:prose-a:text-bke-accent/80 prose mx-auto max-w-prose prose-a:underline"></div>
                    </div>
                </div>
            </aside>
        </div>

        <script src="https://unpkg.com/@rive-app/canvas@1.0.102/rive.js"></script>
        <script type="module" src="./script.js"></script>
        <script>
            if (window.location.hostname == 'explorers.biblekids.io') {
                // Hotjar
                ;(function (h, o, t, j, a, r) {
                    h.hj =
                        h.hj ||
                        function () {
                            ;(h.hj.q = h.hj.q || []).push(arguments)
                        }
                    h._hjSettings = { hjid: 3158746, hjsv: 6 }
                    a = o.getElementsByTagName('head')[0]
                    r = o.createElement('script')
                    r.async = 1
                    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv
                    a.appendChild(r)
                })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=')
            }
        </script>
    </body>
</html>
