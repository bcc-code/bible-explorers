<!doctype html>
<html class="font-sans text-white">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <meta name="color-scheme" content="only light" />
        <title>Bible Kids - Explorers</title>

        <link href="/favicon.ico" rel="icon" media="(prefers-color-scheme: light)" />
        <link href="/favicon-dark.ico" rel="icon" media="(prefers-color-scheme: dark)" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet" />

        <link rel="stylesheet" href="./scss/style.scss" />
    </head>

    <body class="group/body">
        <div id="app" class="group/app fixed inset-0 overflow-hidden">
            <header id="header" class="absolute left-0 top-0 hidden w-full">
                <div class="flex w-full justify-between p-8">
                    <a href="javascript:void(0)" id="home-button" class="z-50">
                        <img src="./textures/bible-kids-explorers.svg" alt="" class="h-16" />
                    </a>
                    <div class="group/progress relative z-10 hidden px-7 pt-7 transition group-data-[view='chapter']/app:block" id="progress-bar"></div>
                    <div class="z-10 flex items-center gap-4">
                        <button class="button-normal toggle-music group/audio">
                            <svg class="h-5 w-5 group-[.is-playing]/audio:hidden"><use href="#music-solid" fill="currentColor"></use></svg>
                            <svg class="hidden h-5 w-5 group-[.is-playing]/audio:block"><use href="#music-slash-solid" fill="currentColor"></use></svg>
                        </button>
                        <div class="group/settings relative">
                            <button class="button-normal toggle-settings group-[.dropdown-is-visible]/settings:shadow-border" aria-pressed="false">
                                <svg class="pointer-events-none h-5 w-5 group-[.dropdown-is-visible]/settings:hidden"><use href="#gear-solid" fill="currentColor"></use></svg>
                                <svg class="pointer-events-none hidden h-5 w-5 group-[.dropdown-is-visible]/settings:block"><use href="#xmark-large-solid" fill="currentColor"></use></svg>
                            </button>
                            <div class="absolute right-0 mt-4 hidden w-60 bg-bke-purple p-4 shadow-focused group-[.dropdown-is-visible]/settings:block">
                                <section id="app-video-quality" class="group/video-quality">
                                    <h5>Video quality:</h5>
                                    <div class="mt-2 flex gap-2">
                                        <button data-id="low" class="flex-1 bg-bke-purple bg-white/20 py-2 uppercase transition hover:bg-bke-orange hover:text-bke-purple group-data-[quality='low']/video-quality:bg-bke-orange group-data-[quality='low']/video-quality:text-bke-purple"></button>
                                        <button data-id="medium" class="flex-1 bg-bke-purple bg-white/20 py-2 uppercase transition hover:bg-bke-orange hover:text-bke-purple group-data-[quality='medium']/video-quality:bg-bke-orange group-data-[quality='medium']/video-quality:text-bke-purple"></button>
                                        <button data-id="high" class="flex-1 bg-bke-purple bg-white/20 py-2 uppercase transition hover:bg-bke-orange hover:text-bke-purple group-data-[quality='high']/video-quality:bg-bke-orange group-data-[quality='high']/video-quality:text-bke-purple"></button>
                                    </div>
                                </section>
                                <section id="fullscreen-setting" class="mt-4">
                                    <h5>Full screen:</h5>
                                    <div class="mt-2 flex items-center">
                                        <input type="checkbox" id="fullscreen-checkbox" class="sr-only" />
                                        <label for="fullscreen-checkbox" class="cursor-pointer bg-white/20 px-3 py-2 uppercase transition hover:bg-bke-orange hover:text-bke-purple"></label>
                                    </div>
                                </section>
                                <section id="bg-music-setting" class="hidden">
                                    <h5 class="mb-2 text-xl">
                                        <div class="inline-block">Background music:</div>
                                        <span id="rangeValue" class="text-bke-orange">50</span>
                                    </h5>
                                    <div class="range">
                                        <input type="range" min="0" max="100" value="50" id="musicRange" class="w-full" />
                                    </div>
                                </section>

                                <a href="#" target="_blank" id="guide-link" class="mt-8 hidden items-center justify-center gap-2 bg-bke-purple bg-white/20 py-2 uppercase transition hover:bg-bke-orange hover:text-bke-purple">
                                    <svg class="pointer-events-none h-5 w-5"><use href="#book-solid" fill="currentColor"></use></svg>
                                    <span>How to</span>
                                </a>
                            </div>
                        </div>
                        <div class="group/languages relative group-data-[view='chapter']/app:hidden group-data-[view='game']/app:hidden" id="app-language">
                            <button class="button-normal toggle-languages group-[.dropdown-is-visible]/languages:shadow-border" aria-pressed="false">
                                <svg class="pointer-events-none h-5 w-5"><use href="#globe-solid" fill="currentColor"></use></svg>
                                <span class="pointer-events-none">English</span>
                            </button>
                            <div class="absolute right-0 mt-4 hidden h-96 w-60 overflow-y-auto bg-bke-purple p-4 shadow-focused group-[.dropdown-is-visible]/languages:block">
                                <ul></ul>
                            </div>
                        </div>
                        <button id="logout-button" class="button-normal disabled:hidden group-data-[view='chapter']/app:hidden group-data-[view='game']/app:hidden" disabled="true">
                            <svg class="h-5 w-5"><use href="#right-from-bracket-solid" fill="currentColor"></use></svg>
                            <div class="leading-tight">
                                <span aria-label="User"></span>
                                <span aria-label="Role" class="text-bke-orange"></span>
                            </div>
                        </button>
                        <button id="login-button" class="button-normal disabled:hidden group-data-[view='chapter']/app:hidden group-data-[view='game']/app:hidden" disabled="true">
                            <svg class="h-5 w-5"><use href="#right-to-bracket-solid" fill="currentColor"></use></svg>
                            <span>Log in</span>
                        </button>
                    </div>
                </div>
            </header>

            <div id="loading_screen" class="fixed inset-0 z-50 grid place-content-center bg-gradient-to-br from-bke-darkpurple to-bke-purple text-center">
                <canvas id="loading_logo" width="320" height="320"></canvas>
                <div id="loading_text" class="bottom-8 left-8 text-2xl">Loading...</div>
            </div>

            <main id="app-content" class="relative h-full overflow-y-auto">
                <div id="app-age_category" class="hidden group-data-[view='age-category']/app:block">
                    <div class="fixed inset-0 bg-control-room bg-cover bg-center">
                        <div class="h-full w-full bg-bke-darkpurple/75"></div>
                    </div>
                    <article class="fixed inset-0 grid place-content-center text-center">
                        <h3 class="max-w-screen-lg text-5xl font-semibold leading-snug text-bke-orange drop-shadow-lg">Join time travels and explore the book that can answer every question</h3>
                        <ul class="mt-16 flex justify-center gap-8"></ul>
                    </article>
                </div>
                <div id="chapter-select" class="hidden group-data-[view='lobby']/app:block">
                    <div class="fixed inset-0 bg-control-room bg-cover bg-center">
                        <div class="h-full w-full bg-bke-darkpurple/75"></div>
                    </div>
                    <div class="relative mx-auto flex max-w-[1980px] gap-8 px-8 py-48">
                        <div id="chapters-list" class="h-[70vh] w-1/2 overflow-y-auto py-0.5">
                            <ul class="flex flex-col px-4"></ul>
                        </div>
                        <div id="chapters-description" class="h-[70vh] w-1/2 py-0.5"></div>
                    </div>
                    <div class="fixed bottom-8 right-8 flex gap-4">
                        <button class="button-normal" id="back-to-age-category">
                            <svg class="h-5 w-5"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                        </button>
                        <button class="button-normal shadow-border" id="start-chapter">
                            <svg class="h-5 w-5"><use href="#arrow-right-long-solid" fill="currentColor"></use></svg>
                        </button>
                    </div>
                </div>
                <div id="chapter-wrapper" class="isolate hidden group-data-[view='chapter']/app:block group-data-[view='game']/app:block">
                    <div class="fixed inset-0 -z-10 bg-chapter-room bg-cover bg-center">
                        <div class="h-full w-full backdrop-brightness-50"></div>
                    </div>
                    <div class="mx-auto mt-48 flex max-w-[1920px] items-stretch gap-12 px-8 group-data-[view='game']/app:hidden">
                        <div id="big-screen" class="group relative isolate aspect-[16/9] w-3/4" data-view="video">
                            <div class="absolute -inset-4 -z-10 bg-big-screen-frame bg-[length:100%_100%] bg-no-repeat"></div>
                            <div class="*:hidden *:h-full *:w-full" id="videos-container"></div>
                        </div>
                        <div id="small-screen" class="group relative isolate max-h-[767px] w-1/4" data-view="map">
                            <div class="absolute -inset-4 -z-10 bg-small-screen-frame bg-[length:100%_100%] bg-no-repeat"></div>
                            <div class="absolute inset-0 hidden bg-map-texture bg-[length:100%_100%] bg-no-repeat group-data-[view='map']:block"></div>
                            <div class="absolute inset-0 hidden bg-map-texture bg-[length:100%_100%] bg-no-repeat group-data-[view='lever']:block"></div>
                        </div>
                    </div>
                    <div id="closed-caption" class="fixed bottom-20 w-full px-8 pr-48 group-data-[view='game']/app:hidden"></div>
                    <div id="chapter-navigation" class="fixed bottom-8 right-8 z-30 flex gap-4">
                        <button class="button-normal" id="prev-step">
                            <svg class="h-5 w-5"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                        </button>
                        <button class="button-normal shadow-border" id="next-step">
                            <svg class="h-5 w-5"><use href="#arrow-right-long-solid" fill="currentColor"></use></svg>
                        </button>
                    </div>
                    <div id="games-wrapper" class="fixed inset-0 hidden group-data-[view='game']/app:block"></div>
                </div>
            </main>

            <aside id="faq" class="hidden group-data-[view='faq']/app:block">
                <div class="fixed inset-0 bg-gradient-to-br from-bke-darkpurple to-bke-purple"></div>
                <div class="absolute inset-0 flex items-center justify-center gap-8 overflow-y-auto px-8 pb-8 pt-48">
                    <div class="flex gap-8">
                        <button id="back-from-faq" class="button-normal" title="back to main menu">
                            <svg class="h-5 w-5"><use href="#arrow-left-long-solid" fill="currentColor"></use></svg>
                        </button>
                        <div class="mt-2">
                            <h3 class="text-3xl font-bold">FAQ</h3>
                            <div id="faq-content" class="prose-xl max-w-screen-md prose-a:text-bke-orange prose-a:underline prose-a:transition hover:prose-a:text-bke-orange/80"></div>
                        </div>
                    </div>
                </div>
            </aside>

            <div id="copyright" class="absolute bottom-8 left-8 text-sm opacity-40 group-data-[view='chapter']/app:hidden group-data-[view='game']/app:hidden"></div>
        </div>

        <script src="https://unpkg.com/@rive-app/canvas@1.0.102/rive.js"></script>
        <script type="module" src="./script.js"></script>
        <script>
            if (window.location.hostname == 'explorers.biblekids.io') {
                // Hotjar
                ;(function (h, o, t, j, a, r) {
                    h.hj =
                        h.hj ||
                        function () {
                            ;(h.hj.q = h.hj.q || []).push(arguments)
                        }
                    h._hjSettings = { hjid: 3158746, hjsv: 6 }
                    a = o.getElementsByTagName('head')[0]
                    r = o.createElement('script')
                    r.async = 1
                    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv
                    a.appendChild(r)
                })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=')
            }
        </script>
    </body>
</html>
